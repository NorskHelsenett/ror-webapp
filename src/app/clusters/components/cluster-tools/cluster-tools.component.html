<div class="gap-8 grid">
  <div class="dark:bg-darker rounded-md bg-white p-4 flex items-center justify-between overflow-y-auto">
    <div class="dark:bg-darker rounded-md bg-white overflow-y-auto">
      <div class="dark:border-primary p-4 flex items-center justify-between border-b">
        <h4 class="dark:text-light text-lg font-semibold text-gray-500">{{ 'pages.clusters.details.tools.title' | translate }}</h4>
      </div>
      <div class="p-3 relative">
        <table class="w-full border-collapse text-left">
          <tbody>
            <tr class="hover:bg-grey-light truncate">
              <td class="px-2 py-1">{{ 'pages.clusters.details.tools.argo' | translate }}</td>
              @if (argoIngress) {
                <td class="px-2 py-1 truncate">
                  @if (
                    argoIngress?.ingressrules !== null &&
                    argoIngress?.ingressrules?.length > 0 &&
                    argoIngress?.ingressrules[0].ipaddresses !== null &&
                    argoIngress?.ingressrules[0].ipaddresses.length > 0
                  ) {
                    <a href="https://{{ argoIngress?.ingressrules[0].hostname }}" target="_blank" class="overflow-hidden text-clip underline"
                      ><span class="w-14 text-blue-800 dark:text-blue-500 truncate overflow-hidden text-clip underline">{{
                        argoIngress?.ingressrules[0].hostname
                      }}</span></a
                    >
                  }
                </td>
              }
              @if (
                !argoIngress ||
                !argoIngress?.ingressrules ||
                argoIngress?.ingressrules?.length === 0 ||
                !argoIngress?.ingressrules[0].ipaddresses ||
                argoIngress?.ingressrules[0].ipaddresses?.length === 0
              ) {
                <td class="px-2 py-1">
                  {{ 'pages.clusters.details.tools.argoMissing' | translate }}
                </td>
              }
            </tr>
            <tr class="hover:bg-grey-light truncate">
              <td class="px-2 py-1">{{ 'pages.clusters.details.tools.grafana' | translate }}</td>
              @if (grafanaIngress) {
                <td class="px-2 py-1 truncate">
                  @if (
                    grafanaIngress?.ingressrules !== null &&
                    grafanaIngress?.ingressrules?.length > 0 &&
                    grafanaIngress?.ingressrules[0].ipaddresses !== null &&
                    grafanaIngress?.ingressrules[0].ipaddresses.length > 0
                  ) {
                    <a href="https://{{ grafanaIngress?.ingressrules[0].hostname }}" target="_blank" class="overflow-hidden text-clip underline"
                      ><span class="w-14 text-blue-800 dark:text-blue-500 truncate overflow-hidden text-clip underline">{{
                        grafanaIngress?.ingressrules[0].hostname
                      }}</span></a
                    >
                  }
                </td>
              }
              @if (
                !grafanaIngress ||
                !grafanaIngress?.ingressrules ||
                grafanaIngress?.ingressrules?.length === 0 ||
                !grafanaIngress?.ingressrules[0].ipaddresses ||
                grafanaIngress?.ingressrules[0].ipaddresses?.length === 0
              ) {
                <td class="px-2 py-1">
                  {{ 'pages.clusters.details.tools.grafanaMissing' | translate }}
                </td>
              }
            </tr>
            <tr class="hover:bg-grey-lighttruncate">
              <td class="px-2 py-1">{{ 'pages.clusters.details.tools.rorlogin' | translate }}</td>
              <td class="px-2 py-1 truncate">
                <a
                  (click)="copyRorLogin()"
                  class="hover:bg-primary-dark focus:ring-primary dark:focus:ring-offset-dark rounded-md bg-green-700 px-4 py-1 text-sm text-white focus:ring-offset-white cursor-pointer focus:ring focus:ring-offset-1 focus:outline-none"
                >
                  {{ 'common.copy' | translate }}
                </a>
                <!-- <a
                (click)="toggleShowLogin()"
                class="cursor-pointer hover:bg-primary-dark focus:ring-primary dark:focus:ring-offset-dark ml-3 rounded-md bg-green-700 px-4 py-2 text-sm text-white focus:outline-none focus:ring focus:ring-offset-1 focus:ring-offset-white"
                >
                <span *ngIf="!showLogin">
                  {{ 'common.show' | translate }}
                </span>
                <span *ngIf="showLogin">
                  {{ 'common.hide' | translate }}
                </span>
              </a> -->
              </td>
            </tr>
            <tr class="hover:bg-grey-light truncate">
              <td class="px-2 py-1">{{ 'pages.clusters.details.tools.kubectlLogin' | translate }}</td>
              <td class="px-2 py-1 truncate">
                <a
                  (click)="copyLogin()"
                  class="hover:bg-primary-dark focus:ring-primary dark:focus:ring-offset-dark rounded-md bg-green-700 px-4 py-1 text-sm text-white focus:ring-offset-white cursor-pointer focus:ring focus:ring-offset-1 focus:outline-none"
                >
                  {{ 'common.copy' | translate }}
                </a>
                <!-- <button
              (click)="toggleShowLogin()"
              class="hover:bg-primary-dark focus:ring-primary dark:focus:ring-offset-dark ml-3 rounded-md bg-green-700 px-4 py-2 text-sm text-white focus:outline-none focus:ring focus:ring-offset-1 focus:ring-offset-white"
              >
              <span *ngIf="!showLogin">
                {{ 'common.show' | translate }}
              </span>
              <span *ngIf="showLogin">
                {{ 'common.hide' | translate }}
              </span>
            </button> -->
              </td>
            </tr>
            @if (showLogin) {
              <tr>
                <td colspan="2" class="px-2 py-1">
                  <div class="bg-black text-white">
                    kubectl vsphere login --server={{ serverUrl }} -u {{ userClaims?.email }} --insecure-skip-tls-verify
                    --tanzu-kubernetes-cluster-namespace {{ cluster?.workspace?.name }} --tanzu-kubernetes-cluster-name {{ cluster?.clusterName }}
                  </div>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
