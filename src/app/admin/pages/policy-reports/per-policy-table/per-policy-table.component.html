@if (policyReports$ | async; as policyReports) {
  <div>
    <p-table [value]="policyReports" [columns]="cols" sortField="fail" [sortOrder]="-1" [tableStyle]="{ 'min-width': '50rem' }">
      <ng-template #header let-columns>
        <tr>
          @for (col of columns; track col) {
            <th [pSortableColumn]="col?.field" class="p-1">
              {{ 'pages.admin.policyreports.' + col?.header | translate }}
              <p-sortIcon [field]="col?.field"></p-sortIcon>
            </th>
          }
        </tr>
      </ng-template>
      <ng-template #body let-policyReport let-columns="columns">
        <tr>
          @for (col of columns; track col) {
            <td>
              {{ policyReport[col?.field] }}
            </td>
          }
        </tr>
      </ng-template>
    </p-table>
  </div>
} @else {
  @if (error) {
    <div class="mx-auto my-4 flex items-center rounded-md bg-red-200 px-6 py-4 text-lg">
      <span class="p-2 text-red-800">
        {{ 'common.errorLoading' | translate }} <br />
        {{ ('common.error' | translate) + ': ' + error?.message }}
      </span>
    </div>
  }
}
