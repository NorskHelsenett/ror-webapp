<div *ngIf="resource$ | async"></div>
<div class="dark:border-primary-darker flex items-center gap-4 border-b px-4 py-4 lg:py-6">
  <h1 class="flex-grow text-2xl font-semibold flex">
    <app-provider class="mr-2" [providerTypeOrName]="virtualMachine?.virtualmachine?.provider" [showText]="false"></app-provider>
    <span *ngIf="virtualMachine?.metadata?.name">{{ virtualMachine?.metadata?.name }}</span>
  </h1>

  <div
    class="hover:bg-primary-dark focus:ring-primary dark:focus:ring-offset-dark relative rounded-md bg-green-700 text-sm text-white focus:outline-none focus:ring focus:ring-offset-1 focus:ring-offset-white"
  ></div>

  <button
    class="hover:bg-primary-dark focus:ring-primary dark:focus:ring-offset-dark rounded-md bg-green-700 px-4 py-2 text-sm text-white focus:outline-none focus:ring focus:ring-offset-1 focus:ring-offset-white"
  >
    {{ 'common.refresh' | translate }}
  </button>

  <button
    class="focus:ring-primary dark:focus:ring-offset-dark ml-2 rounded-md bg-green-700 px-4 py-2 text-sm text-white hover:bg-green-500 focus:outline-none focus:ring focus:ring-offset-1 focus:ring-offset-white"
  >
    {{ 'common.edit' | translate }}
  </button>
</div>

<p-tabView styleClass="tabview" [(activeIndex)]="selectedTabIndex" (activeIndexChange)="switchTab($event)" [scrollable]="true">
  <p-tabPanel>
    <ng-template pTemplate="header">
      <div class="flex text-nowrap">
        <i class="pi pi-server mt-1"></i>
        <span class="ml-2">{{ 'pages.virtualmachines.details.title' | translate }}</span>
      </div>
    </ng-template>
    <ng-template pTemplate="content">
      <div class="">
        <!-- <div class="p-3 flex flex-col">virtual machine content</div> -->
        <div class="grid sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-3">
          <div class="sm:col-span-1 md:col-span-1 lg:col-span-2 xl:col-span-3 2xl:col-span-4 grid gap-3">
            <!-- <app-virtualmachine-detail [virtualmachine]="virtualMachine"></app-virtualmachine-detail> -->
            <!-- <app-virtualmachine-specs class="mt-3" [virtualmachine]="virtualMachine"></app-virtualmachine-specs> -->
            <app-virtualmachine-metrics class="mt-3 flex-1" [virtualmachine]="virtualMachine"></app-virtualmachine-metrics>

            <div class="flex flex-row gap-4">
              <app-virtualmachine-os class="mt-3 flex-1" [virtualmachine]="virtualMachine"></app-virtualmachine-os>
              <app-virtualmachine-network class="mt-3 flex-1" [virtualmachine]="virtualMachine"></app-virtualmachine-network>
            </div>

            <app-virtualmachine-disks class="mt-3" [virtualmachine]="virtualMachine"></app-virtualmachine-disks>
          </div>

          <div class="sm:col-span-1 md:col-span-1 lg:col-span-1 lg:pl-3 xl:col-span-1 2xl:col-span-2">
            <div class="grid-cols grid gap-4">
              <app-virtualmachine-status [virtualmachine]="virtualMachine"></app-virtualmachine-status>
              <app-virtualmachine-metadata [virtualmachine]="virtualMachine"></app-virtualmachine-metadata>
              <app-virtualmachine-specs [virtualmachine]="virtualMachine"></app-virtualmachine-specs>
              <app-virtualmachine-tools [virtualmachine]="virtualMachine"></app-virtualmachine-tools>
            </div>
          </div>
        </div>
      </div>
    </ng-template>
  </p-tabPanel>

  <p-tabPanel header="{{ 'pages.virtualmachines.details.components.title' | translate }}">
    <ng-template pTemplate="header">
      <div class="flex text-nowrap">
        <i class="pi pi-save mt-1"></i>
        <span class="ml-2">{{ 'pages.virtualmachines.details.disks.title' | translate }}</span>
      </div>
    </ng-template>
    <ng-template pTemplate="content">
      <div class="">
        <div class="dark:bg-darker flex flex-col rounded-md bg-white">
          <div class="p-3 flex flex-col">
            <app-virtualmachine-disks [virtualmachine]="virtualMachine"></app-virtualmachine-disks>
          </div>
        </div>
      </div>
    </ng-template>
  </p-tabPanel>

  <p-tabPanel header="{{ 'pages.virtualmachines.details.network.title' | translate }}">
    <ng-template pTemplate="header">
      <div class="flex text-nowrap">
        <i class="pi pi-wifi mt-1"></i>
        <span class="ml-2">{{ 'pages.virtualmachines.details.network.title' | translate }}</span>
      </div>
    </ng-template>
    <ng-template pTemplate="content">
      <div class="">
        <div class="dark:bg-darker flex flex-col rounded-md bg-white">
          <div class="p-3 flex flex-col">
            <app-virtualmachine-network [virtualmachine]="virtualMachine"></app-virtualmachine-network>
          </div>
        </div>
      </div>
    </ng-template>
  </p-tabPanel>

  <p-tabPanel header="{{ 'pages.virtualmachines.details.metadata.title' | translate }}">
    <ng-template pTemplate="header">
      <div class="flex text-nowrap">
        <i class="pi pi-file mt-1"></i>
        <span class="ml-2">{{ 'pages.virtualmachines.details.metadata.title' | translate }}</span>
      </div>
    </ng-template>
    <ng-template pTemplate="content">
      <div class="">
        <div class="dark:bg-darker flex flex-col rounded-md bg-white">
          <div class="p-3 flex flex-col">
            <app-virtualmachine-metadata [virtualmachine]="virtualMachine"></app-virtualmachine-metadata>
          </div>
        </div>
      </div>
    </ng-template>
  </p-tabPanel>

  <p-tabPanel header="{{ 'pages.virtualmachines.details.events.title' | translate }}">
    <ng-template pTemplate="header">
      <div class="flex text-nowrap">
        <i class="pi pi-message mt-1"></i>
        <span class="ml-2">{{ 'pages.virtualmachines.details.events.title' | translate }}</span>
      </div>
    </ng-template>
    <ng-template pTemplate="content">
      <div class="">
        <div class="dark:bg-darker flex flex-col rounded-md bg-white">
          <div class="p-3 flex flex-col">{{ 'pages.virtualmachines.details.events.title' | translate }}</div>
        </div>
      </div>
    </ng-template>
  </p-tabPanel>

  <p-tabPanel header="{{ 'pages.virtualmachines.details.components.title' | translate }}">
    <ng-template pTemplate="header">
      <div class="flex text-nowrap">
        <i class="pi pi-objects-column mt-1"></i>
        <span class="ml-2">{{ 'pages.virtualmachines.details.backups.title' | translate }}</span>
      </div>
    </ng-template>
    <ng-template pTemplate="content">
      <div class="">
        <div class="dark:bg-darker flex flex-col rounded-md bg-white">
          <div class="p-3 flex flex-col">
            <app-virtualmachine-backup [virtualmachine]="virtualMachine"></app-virtualmachine-backup>
          </div>
        </div>
      </div>
    </ng-template>
  </p-tabPanel>

  <p-tabPanel header="{{ 'pages.virtualmachines.details.remotecontrol.title' | translate }}">
    <ng-template pTemplate="header">
      <div class="flex text-nowrap">
        <i class="pi pi-desktop mt-1"></i>
        <span class="ml-2">{{ 'pages.virtualmachines.details.remotecontrol.title' | translate }}</span>
      </div>
    </ng-template>
    <ng-template pTemplate="content">
      <div class="">
        <div class="dark:bg-darker flex flex-col rounded-md bg-white">
          <div class="p-3 flex flex-col">
            <app-virtualmachine-remote-control [virtualmachine]="virtualMachine"></app-virtualmachine-remote-control>
          </div>
        </div>
      </div>
    </ng-template>
  </p-tabPanel>

  <!-- <p-tabPanel header="{{ 'pages.virtualmachines.details.edit.title' | translate }}">
    <ng-template pTemplate="header">
      <div class="flex text-nowrap">
        <i class="pi pi-pencil mt-1"></i>
        <span class="ml-2">{{ 'pages.virtualmachines.details.edit.title' | translate }}</span>
      </div>
    </ng-template>
    <ng-template pTemplate="content">
      <div class="">
        <div class="dark:bg-darker flex flex-col rounded-md bg-white">
          <div class="p-3 flex flex-col">
            <app-virtualmachine-specs [virtualmachine]="virtualMachine"></app-virtualmachine-specs>
          </div>
        </div>
      </div>
    </ng-template>
  </p-tabPanel> -->

  <p-tabPanel header="{{ 'pages.virtualmachines.details.raw.title' | translate }}">
    <ng-template pTemplate="header">
      <div class="flex text-nowrap">
        <i class="pi pi-file mt-1"></i>
        <span class="ml-2">{{ 'pages.virtualmachines.details.raw.title' | translate }}</span>
      </div>
    </ng-template>
    <ng-template pTemplate="content">
      <div class="">
        <div class="dark:bg-darker flex flex-col rounded-md bg-white">
          <div class="p-3 flex flex-col">
            <app-virtualmachines-raw [resource]="resource$ | async"></app-virtualmachines-raw>
          </div>
        </div>
      </div>
    </ng-template>
  </p-tabPanel>
</p-tabView>
